<div id="form" class="flex-grow-1 d-flex flex-column" v-cloak>
  <div class="col-12">
    <div
      class="progress"
      role="progressbar"
      aria-label="Warning example"
      aria-valuenow="75"
      aria-valuemin="0"
      aria-valuemax="100"
      style="height: 7px; border-radius: 0px;"
    >
      <div v-if="progress" class="progress-bar bg-warning" :style="progress.style"></div>
    </div>
  </div>
  <div class="container-fluid flex-grow-1 d-flex">
    <div 
      class="row flex-grow-1"
      v-if="!submission && !loading && !finished"
    >
      <div 
        class="d-none d-md-flex col-md-7" 
        style="
          background-image: url('/images/cachorro_garota_olhos.jpg'); 
          background-size: cover; background-position: center;">
      </div>
      <div class="col-12 col-md-5 p-5 d-flex align-items-center flex-column justify-content-around">
        <div>
          <h2>{{ form.title }}</h2>
        </div>
        <div class="d-flex jutify-content-center align-items-center flex-column">
          <p class="text-center m-4">{{ form.description }}</p>
          <div class="col-12 d-flex justify-content-end">
            <button
            class="btn btn-primary d-flex text-center justify-content-center w-100"
            @click="startSubmission"
            >
            Começar o formulário
            <span class="material-symbols-outlined">
              flag
            </span>
          </button>
          </div>
        </div>
      </div>
    </div>
    <div 
      v-if="submission && !finished && !loading"
      class="col-12 d-flex flex-column align-items-center justify-content-center text-center p-5">
      <dynamic-form
        :fields="fields"
        :submission="submission"
        :setprogress="setProgress"
        :onfinish="onFinish"
      ></dynamic-form>
    </div>
    <div 
      v-if="finished"
      id="tela-final"
      class="col-12 d-flex flex-column align-items-center justify-content-center text-center p-5">
      <h2>Parabéns</h2>
      <p>Juntos vamos erradicar o abandono de cães no Brasil</p>
      <div class="my-4">
        <svg width="100" height="100" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <circle cx="12" cy="12" r="10" stroke="#00BFA6" stroke-width="2" />
          <path d="M7 12.5L10 15.5L17 8.5" stroke="#00BFA6" stroke-width="2" />
        </svg>
      </div>
      <p>Obrigado pela sua contribuição</p>
      <p>Não abandone essa causa!</p>
      <button class="btn btn-primary mt-3" onclick="location.href = '/'">Home</button>
    </div>
  </div>
</div>
<%- /* Expose server-rendered data as window.SAILS_LOCALS :: */
exposeLocalsToBrowser() %>